import { Component, Input, ViewChild } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../../../directives/po-tooltip/po-tooltip.directive";
const _c0 = ["descriptionText"];
function PoGaugeDescriptionComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainer(0);
} }
function PoGaugeDescriptionComponent_ng_template_2_p_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "p", 5, 6);
    i0.ɵɵlistener("mouseenter", function PoGaugeDescriptionComponent_ng_template_2_p_0_Template_p_mouseenter_0_listener() { i0.ɵɵrestoreView(_r8); const ctx_r7 = i0.ɵɵnextContext(2); return ctx_r7.verifyIfHasEllipsis(); });
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("p-tooltip", ctx_r5.tooltip);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate1(" ", ctx_r5.description, " ");
} }
function PoGaugeDescriptionComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, PoGaugeDescriptionComponent_ng_template_2_p_0_Template, 3, 2, "p", 4);
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngIf", ctx_r2.description);
} }
function PoGaugeDescriptionComponent_ng_template_4_p_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "p", 10);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r9 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1("", ctx_r9.value, "%");
} }
function PoGaugeDescriptionComponent_ng_template_4_p_2_Template(rf, ctx) { if (rf & 1) {
    const _r13 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "p", 11, 6);
    i0.ɵɵlistener("mouseenter", function PoGaugeDescriptionComponent_ng_template_4_p_2_Template_p_mouseenter_0_listener() { i0.ɵɵrestoreView(_r13); const ctx_r12 = i0.ɵɵnextContext(2); return ctx_r12.verifyIfHasEllipsis(); });
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r10 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("p-tooltip", ctx_r10.tooltip);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate1(" ", ctx_r10.description, " ");
} }
function PoGaugeDescriptionComponent_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 7);
    i0.ɵɵtemplate(1, PoGaugeDescriptionComponent_ng_template_4_p_1_Template, 2, 1, "p", 8);
    i0.ɵɵtemplate(2, PoGaugeDescriptionComponent_ng_template_4_p_2_Template, 3, 2, "p", 9);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext();
    i0.ɵɵstyleProp("width", ctx_r4.descriptionWidth, "px");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r4.isValidValue);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r4.description);
} }
export class PoGaugeDescriptionComponent {
    get isValidValue() {
        return this.value || this.value === 0;
    }
    verifyIfHasEllipsis() {
        const { offsetWidth, scrollWidth } = this.descriptionText.nativeElement;
        // O tooltip só exibe se adicionado dentro de setTimeout.
        setTimeout(() => {
            this.tooltip = offsetWidth < scrollWidth ? this.description : undefined;
        });
    }
}
PoGaugeDescriptionComponent.ɵfac = function PoGaugeDescriptionComponent_Factory(t) { return new (t || PoGaugeDescriptionComponent)(); };
PoGaugeDescriptionComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoGaugeDescriptionComponent, selectors: [["po-gauge-description"]], viewQuery: function PoGaugeDescriptionComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(_c0, 5);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.descriptionText = _t.first);
    } }, inputs: { description: ["p-description", "description"], hasRanges: ["p-has-ranges", "hasRanges"], descriptionWidth: ["p-description-width", "descriptionWidth"], value: ["p-value", "value"] }, decls: 6, vars: 1, consts: [[1, "po-gauge-description"], [4, "ngTemplateOutlet"], ["rangesDescription", ""], ["percentageDescription", ""], ["class", "po-gauge-description-text po-gauge-description-upper-text", 3, "p-tooltip", "mouseenter", 4, "ngIf"], [1, "po-gauge-description-text", "po-gauge-description-upper-text", 3, "p-tooltip", "mouseenter"], ["descriptionText", ""], ["tabindex", "0", 1, "po-gauge-description-bottom"], ["class", "po-gauge-description-bottom-value", 4, "ngIf"], ["class", "po-gauge-description-text po-gauge-description-bottom-text", 3, "p-tooltip", "mouseenter", 4, "ngIf"], [1, "po-gauge-description-bottom-value"], [1, "po-gauge-description-text", "po-gauge-description-bottom-text", 3, "p-tooltip", "mouseenter"]], template: function PoGaugeDescriptionComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0);
        i0.ɵɵtemplate(1, PoGaugeDescriptionComponent_ng_container_1_Template, 1, 0, "ng-container", 1);
        i0.ɵɵelementEnd();
        i0.ɵɵtemplate(2, PoGaugeDescriptionComponent_ng_template_2_Template, 1, 1, "ng-template", null, 2, i0.ɵɵtemplateRefExtractor);
        i0.ɵɵtemplate(4, PoGaugeDescriptionComponent_ng_template_4_Template, 3, 4, "ng-template", null, 3, i0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        const _r1 = i0.ɵɵreference(3);
        const _r3 = i0.ɵɵreference(5);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngTemplateOutlet", ctx.hasRanges ? _r1 : _r3);
    } }, directives: [i1.NgTemplateOutlet, i1.NgIf, i2.PoTooltipDirective], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoGaugeDescriptionComponent, [{
        type: Component,
        args: [{ selector: 'po-gauge-description', template: "<div class=\"po-gauge-description\">\n  <ng-container *ngTemplateOutlet=\"hasRanges ? rangesDescription : percentageDescription\"> </ng-container>\n</div>\n\n<ng-template #rangesDescription>\n  <p\n    #descriptionText\n    *ngIf=\"description\"\n    class=\"po-gauge-description-text po-gauge-description-upper-text\"\n    [p-tooltip]=\"tooltip\"\n    (mouseenter)=\"verifyIfHasEllipsis()\"\n  >\n    {{ description }}\n  </p>\n</ng-template>\n\n<ng-template #percentageDescription>\n  <div class=\"po-gauge-description-bottom\" tabindex=\"0\" [style.width.px]=\"descriptionWidth\">\n    <p *ngIf=\"isValidValue\" class=\"po-gauge-description-bottom-value\">{{ value }}%</p>\n    <p\n      #descriptionText\n      *ngIf=\"description\"\n      class=\"po-gauge-description-text po-gauge-description-bottom-text\"\n      [p-tooltip]=\"tooltip\"\n      (mouseenter)=\"verifyIfHasEllipsis()\"\n    >\n      {{ description }}\n    </p>\n  </div>\n</ng-template>\n" }]
    }], null, { description: [{
            type: Input,
            args: ['p-description']
        }], hasRanges: [{
            type: Input,
            args: ['p-has-ranges']
        }], descriptionWidth: [{
            type: Input,
            args: ['p-description-width']
        }], value: [{
            type: Input,
            args: ['p-value']
        }], descriptionText: [{
            type: ViewChild,
            args: ['descriptionText']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tZ2F1Z2UtZGVzY3JpcHRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLWdhdWdlL3BvLWdhdWdlLWRlc2NyaXB0aW9uL3BvLWdhdWdlLWRlc2NyaXB0aW9uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1nYXVnZS9wby1nYXVnZS1kZXNjcmlwdGlvbi9wby1nYXVnZS1kZXNjcmlwdGlvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFjLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7Ozs7OztJQ0N0RSx3QkFBd0c7Ozs7SUFJeEcsK0JBTUM7SUFEQywwTEFBYyw0QkFBcUIsSUFBQztJQUVwQyxZQUNGO0lBQUEsaUJBQUk7OztJQUpGLDBDQUFxQjtJQUdyQixlQUNGO0lBREUsbURBQ0Y7OztJQVJBLHNGQVFJOzs7SUFORCx5Q0FBaUI7OztJQVdsQiw2QkFBa0U7SUFBQSxZQUFZO0lBQUEsaUJBQUk7OztJQUFoQixlQUFZO0lBQVosNENBQVk7Ozs7SUFDOUUsZ0NBTUM7SUFEQyw0TEFBYyw2QkFBcUIsSUFBQztJQUVwQyxZQUNGO0lBQUEsaUJBQUk7OztJQUpGLDJDQUFxQjtJQUdyQixlQUNGO0lBREUsb0RBQ0Y7OztJQVZGLDhCQUEwRjtJQUN4RixzRkFBa0Y7SUFDbEYsc0ZBUUk7SUFDTixpQkFBTTs7O0lBWGdELHNEQUFtQztJQUNuRixlQUFrQjtJQUFsQiwwQ0FBa0I7SUFHbkIsZUFBaUI7SUFBakIseUNBQWlCOztBRGZ4QixNQUFNLE9BQU8sMkJBQTJCO0lBYXRDLElBQUksWUFBWTtRQUNkLE9BQU8sSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsbUJBQW1CO1FBQ2pCLE1BQU0sRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUM7UUFFeEUseURBQXlEO1FBQ3pELFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxJQUFJLENBQUMsT0FBTyxHQUFHLFdBQVcsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUMxRSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7O3NHQXhCVSwyQkFBMkI7OEVBQTNCLDJCQUEyQjs7Ozs7O1FDTnhDLDhCQUFrQztRQUNoQyw4RkFBd0c7UUFDMUcsaUJBQU07UUFFTiw2SEFVYztRQUVkLDZIQWFjOzs7O1FBNUJHLGVBQXVFO1FBQXZFLDREQUF1RTs7dUZESzNFLDJCQUEyQjtjQUp2QyxTQUFTOzJCQUNFLHNCQUFzQjtnQkFJUixXQUFXO2tCQUFsQyxLQUFLO21CQUFDLGVBQWU7WUFFQyxTQUFTO2tCQUEvQixLQUFLO21CQUFDLGNBQWM7WUFFUyxnQkFBZ0I7a0JBQTdDLEtBQUs7bUJBQUMscUJBQXFCO1lBRVYsS0FBSztrQkFBdEIsS0FBSzttQkFBQyxTQUFTO1lBRWMsZUFBZTtrQkFBNUMsU0FBUzttQkFBQyxpQkFBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncG8tZ2F1Z2UtZGVzY3JpcHRpb24nLFxuICB0ZW1wbGF0ZVVybDogJy4vcG8tZ2F1Z2UtZGVzY3JpcHRpb24uY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIFBvR2F1Z2VEZXNjcmlwdGlvbkNvbXBvbmVudCB7XG4gIEBJbnB1dCgncC1kZXNjcmlwdGlvbicpIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG5cbiAgQElucHV0KCdwLWhhcy1yYW5nZXMnKSBoYXNSYW5nZXM6IGJvb2xlYW47XG5cbiAgQElucHV0KCdwLWRlc2NyaXB0aW9uLXdpZHRoJykgZGVzY3JpcHRpb25XaWR0aDogbnVtYmVyO1xuXG4gIEBJbnB1dCgncC12YWx1ZScpIHZhbHVlOiBudW1iZXI7XG5cbiAgQFZpZXdDaGlsZCgnZGVzY3JpcHRpb25UZXh0JykgZGVzY3JpcHRpb25UZXh0OiBFbGVtZW50UmVmO1xuXG4gIHRvb2x0aXA6IHN0cmluZztcblxuICBnZXQgaXNWYWxpZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlIHx8IHRoaXMudmFsdWUgPT09IDA7XG4gIH1cblxuICB2ZXJpZnlJZkhhc0VsbGlwc2lzKCkge1xuICAgIGNvbnN0IHsgb2Zmc2V0V2lkdGgsIHNjcm9sbFdpZHRoIH0gPSB0aGlzLmRlc2NyaXB0aW9uVGV4dC5uYXRpdmVFbGVtZW50O1xuXG4gICAgLy8gTyB0b29sdGlwIHPDsyBleGliZSBzZSBhZGljaW9uYWRvIGRlbnRybyBkZSBzZXRUaW1lb3V0LlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy50b29sdGlwID0gb2Zmc2V0V2lkdGggPCBzY3JvbGxXaWR0aCA/IHRoaXMuZGVzY3JpcHRpb24gOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJwby1nYXVnZS1kZXNjcmlwdGlvblwiPlxuICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiaGFzUmFuZ2VzID8gcmFuZ2VzRGVzY3JpcHRpb24gOiBwZXJjZW50YWdlRGVzY3JpcHRpb25cIj4gPC9uZy1jb250YWluZXI+XG48L2Rpdj5cblxuPG5nLXRlbXBsYXRlICNyYW5nZXNEZXNjcmlwdGlvbj5cbiAgPHBcbiAgICAjZGVzY3JpcHRpb25UZXh0XG4gICAgKm5nSWY9XCJkZXNjcmlwdGlvblwiXG4gICAgY2xhc3M9XCJwby1nYXVnZS1kZXNjcmlwdGlvbi10ZXh0IHBvLWdhdWdlLWRlc2NyaXB0aW9uLXVwcGVyLXRleHRcIlxuICAgIFtwLXRvb2x0aXBdPVwidG9vbHRpcFwiXG4gICAgKG1vdXNlZW50ZXIpPVwidmVyaWZ5SWZIYXNFbGxpcHNpcygpXCJcbiAgPlxuICAgIHt7IGRlc2NyaXB0aW9uIH19XG4gIDwvcD5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjcGVyY2VudGFnZURlc2NyaXB0aW9uPlxuICA8ZGl2IGNsYXNzPVwicG8tZ2F1Z2UtZGVzY3JpcHRpb24tYm90dG9tXCIgdGFiaW5kZXg9XCIwXCIgW3N0eWxlLndpZHRoLnB4XT1cImRlc2NyaXB0aW9uV2lkdGhcIj5cbiAgICA8cCAqbmdJZj1cImlzVmFsaWRWYWx1ZVwiIGNsYXNzPVwicG8tZ2F1Z2UtZGVzY3JpcHRpb24tYm90dG9tLXZhbHVlXCI+e3sgdmFsdWUgfX0lPC9wPlxuICAgIDxwXG4gICAgICAjZGVzY3JpcHRpb25UZXh0XG4gICAgICAqbmdJZj1cImRlc2NyaXB0aW9uXCJcbiAgICAgIGNsYXNzPVwicG8tZ2F1Z2UtZGVzY3JpcHRpb24tdGV4dCBwby1nYXVnZS1kZXNjcmlwdGlvbi1ib3R0b20tdGV4dFwiXG4gICAgICBbcC10b29sdGlwXT1cInRvb2x0aXBcIlxuICAgICAgKG1vdXNlZW50ZXIpPVwidmVyaWZ5SWZIYXNFbGxpcHNpcygpXCJcbiAgICA+XG4gICAgICB7eyBkZXNjcmlwdGlvbiB9fVxuICAgIDwvcD5cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuIl19