import { Component, EventEmitter, Input, Output } from '@angular/core';
import { poLanguageDefault } from '@po-ui/ng-components';
import { convertToBoolean, isTypeof } from './../../utils/util';
import * as i0 from "@angular/core";
import * as i1 from "@po-ui/ng-components";
import * as i2 from "@angular/common";
import * as i3 from "@angular/forms";
function PoPageBackgroundComponent_img_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "img", 12);
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵclassProp("po-page-background-hide-logo", ctx_r0.hideLogo);
    i0.ɵɵproperty("src", ctx_r0.logo, i0.ɵɵsanitizeUrl);
} }
function PoPageBackgroundComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    const _r5 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 13)(1, "po-select", 14);
    i0.ɵɵlistener("ngModelChange", function PoPageBackgroundComponent_div_9_Template_po_select_ngModelChange_1_listener($event) { i0.ɵɵrestoreView(_r5); const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.selectedLanguageOption = $event; })("p-change", function PoPageBackgroundComponent_div_9_Template_po_select_p_change_1_listener() { i0.ɵɵrestoreView(_r5); const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.onChangeLanguage(); });
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngModel", ctx_r1.selectedLanguageOption)("p-options", ctx_r1.selectLanguageOptions);
} }
function PoPageBackgroundComponent_img_11_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "img", 15);
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵproperty("src", ctx_r2.secondaryLogo, i0.ɵɵsanitizeUrl);
} }
function PoPageBackgroundComponent_div_12_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 16)(1, "div", 17)(2, "div", 18);
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd()()();
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext();
    i0.ɵɵstyleProp("background-image", "url(" + ctx_r3.background + ")");
    i0.ɵɵproperty("ngClass", ctx_r3.background ? "po-page-login-highlight-image" : "po-page-login-highlight-image-off");
    i0.ɵɵadvance(3);
    i0.ɵɵtextInterpolate(ctx_r3.highlightInfo);
} }
const _c0 = ["*"];
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente para definição de cor de fundo e dos logotipos primário e secundário para os templates
 * de `po-page-login` e demais templates de login.
 */
export class PoPageBackgroundComponent {
    constructor(poLanguageService) {
        this.poLanguageService = poLanguageService;
        /**
         * @optional
         *
         * @description
         *
         * Evento disparado ao selecionar alguma opção no seletor de idiomas.
         * Para este evento será passado como parâmetro o valor de idioma selecionado.
         */
        this.selectedLanguage = new EventEmitter();
        this._showSelectLanguage = false;
    }
    /** Lista de idiomas para o combo box */
    set languagesList(value) {
        this._languagesList = value;
        this.setLanguageOptions();
    }
    get languagesList() {
        if (this._languagesList?.length) {
            return this._languagesList;
        }
        return poLanguageDefault;
    }
    /** Caminho para a logomarca localizada na parte superior. */
    set logo(value) {
        this._logo = isTypeof(value, 'string') && value.trim() ? value : undefined;
    }
    get logo() {
        return this._logo;
    }
    /**
     * @optional
     *
     * @description
     *
     * Caminho para a logomarca localizada no rodapé.
     */
    set secondaryLogo(value) {
        this._secondaryLogo = isTypeof(value, 'string') && value.trim() ? value : undefined;
    }
    get secondaryLogo() {
        return this._secondaryLogo;
    }
    /** Define se o seletor de idiomas deve ser exibido. */
    set showSelectLanguage(showSelectLanguage) {
        this._showSelectLanguage = convertToBoolean(showSelectLanguage);
    }
    get showSelectLanguage() {
        return this._showSelectLanguage;
    }
    ngOnInit() {
        this.selectedLanguageOption = this.initialSelectLanguage || this.poLanguageService.getShortLanguage();
    }
    onChangeLanguage() {
        this.selectedLanguage.emit(this.selectedLanguageOption);
    }
    get selectLanguageOptions() {
        return this._selectLanguageOptions;
    }
    setLanguageOptions() {
        this._selectLanguageOptions = this.languagesList.map(language => ({
            label: language.description,
            value: language.language
        }));
    }
}
PoPageBackgroundComponent.ɵfac = function PoPageBackgroundComponent_Factory(t) { return new (t || PoPageBackgroundComponent)(i0.ɵɵdirectiveInject(i1.PoLanguageService)); };
PoPageBackgroundComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoPageBackgroundComponent, selectors: [["po-page-background"]], inputs: { background: ["p-background", "background"], initialSelectLanguage: ["p-initial-language", "initialSelectLanguage"], hideLogo: ["p-hide-logo", "hideLogo"], highlightInfo: ["p-highlight-info", "highlightInfo"], languagesList: ["p-languages", "languagesList"], logo: ["p-logo", "logo"], secondaryLogo: ["p-secondary-logo", "secondaryLogo"], showSelectLanguage: ["p-show-select-language", "showSelectLanguage"] }, outputs: { selectedLanguage: "p-selected-language" }, ngContentSelectors: _c0, decls: 13, vars: 5, consts: [[1, "po-page-login-container"], [1, "po-page-login-panel"], ["class", "po-page-background-main-logo", "alt", "main-logo", 3, "po-page-background-hide-logo", "src", 4, "ngIf"], [1, "po-page-login-body"], [1, "po-page-login-panel-content"], [1, "po-page-background-footer", "po-sm-12"], [1, "po-page-background-footer-mobile-only"], [1, "po-page-background-footer-content"], ["class", "po-page-background-footer-select", 4, "ngIf"], [1, "po-page-background-secondary-logo", 3, "ngClass"], ["class", "po-page-background-secondary-logo-image", "alt", "secondary-logo", 3, "src", 4, "ngIf"], [3, "ngClass", "background-image", 4, "ngIf"], ["alt", "main-logo", 1, "po-page-background-main-logo", 3, "src"], [1, "po-page-background-footer-select"], ["name", "selectedLanguageOption", 3, "ngModel", "p-options", "ngModelChange", "p-change"], ["alt", "secondary-logo", 1, "po-page-background-secondary-logo-image", 3, "src"], [3, "ngClass"], [1, "po-page-login-highlight-text"], [1, "po-font-display"]], template: function PoPageBackgroundComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵprojectionDef();
        i0.ɵɵelementStart(0, "div", 0)(1, "div", 1);
        i0.ɵɵtemplate(2, PoPageBackgroundComponent_img_2_Template, 1, 3, "img", 2);
        i0.ɵɵelementStart(3, "div", 3)(4, "div", 4);
        i0.ɵɵprojection(5);
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(6, "div", 5);
        i0.ɵɵelement(7, "po-divider", 6);
        i0.ɵɵelementStart(8, "div", 7);
        i0.ɵɵtemplate(9, PoPageBackgroundComponent_div_9_Template, 2, 2, "div", 8);
        i0.ɵɵelementStart(10, "div", 9);
        i0.ɵɵtemplate(11, PoPageBackgroundComponent_img_11_Template, 1, 1, "img", 10);
        i0.ɵɵelementEnd()()()();
        i0.ɵɵtemplate(12, PoPageBackgroundComponent_div_12_Template, 4, 4, "div", 11);
        i0.ɵɵelementEnd();
    } if (rf & 2) {
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.logo);
        i0.ɵɵadvance(7);
        i0.ɵɵproperty("ngIf", ctx.showSelectLanguage);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngClass", ctx.showSelectLanguage ? "po-page-background-secondary-logo-right" : "po-page-background-secondary-logo-centered");
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.secondaryLogo);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.background);
    } }, directives: [i2.NgIf, i1.PoDividerComponent, i1.PoSelectComponent, i3.NgControlStatus, i3.NgModel, i2.NgClass], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoPageBackgroundComponent, [{
        type: Component,
        args: [{ selector: 'po-page-background', template: "<div class=\"po-page-login-container\">\n  <div class=\"po-page-login-panel\">\n    <img\n      *ngIf=\"logo\"\n      class=\"po-page-background-main-logo\"\n      [class.po-page-background-hide-logo]=\"hideLogo\"\n      alt=\"main-logo\"\n      [src]=\"logo\"\n    />\n\n    <div class=\"po-page-login-body\">\n      <div class=\"po-page-login-panel-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n    <div class=\"po-page-background-footer po-sm-12\">\n      <po-divider class=\"po-page-background-footer-mobile-only\"></po-divider>\n\n      <div class=\"po-page-background-footer-content\">\n        <div *ngIf=\"showSelectLanguage\" class=\"po-page-background-footer-select\">\n          <po-select\n            name=\"selectedLanguageOption\"\n            [(ngModel)]=\"selectedLanguageOption\"\n            [p-options]=\"selectLanguageOptions\"\n            (p-change)=\"onChangeLanguage()\"\n          >\n          </po-select>\n        </div>\n\n        <div\n          class=\"po-page-background-secondary-logo\"\n          [ngClass]=\"\n            showSelectLanguage\n              ? 'po-page-background-secondary-logo-right'\n              : 'po-page-background-secondary-logo-centered'\n          \"\n        >\n          <img\n            *ngIf=\"secondaryLogo\"\n            class=\"po-page-background-secondary-logo-image\"\n            alt=\"secondary-logo\"\n            [src]=\"secondaryLogo\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div\n    *ngIf=\"background\"\n    [ngClass]=\"background ? 'po-page-login-highlight-image' : 'po-page-login-highlight-image-off'\"\n    [style.background-image]=\"'url(' + background + ')'\"\n  >\n    <div class=\"po-page-login-highlight-text\">\n      <div class=\"po-font-display\">{{ highlightInfo }}</div>\n    </div>\n  </div>\n</div>\n" }]
    }], function () { return [{ type: i1.PoLanguageService }]; }, { background: [{
            type: Input,
            args: ['p-background']
        }], initialSelectLanguage: [{
            type: Input,
            args: ['p-initial-language']
        }], hideLogo: [{
            type: Input,
            args: ['p-hide-logo']
        }], highlightInfo: [{
            type: Input,
            args: ['p-highlight-info']
        }], selectedLanguage: [{
            type: Output,
            args: ['p-selected-language']
        }], languagesList: [{
            type: Input,
            args: ['p-languages']
        }], logo: [{
            type: Input,
            args: ['p-logo']
        }], secondaryLogo: [{
            type: Input,
            args: ['p-secondary-logo']
        }], showSelectLanguage: [{
            type: Input,
            args: ['p-show-select-language']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1iYWNrZ3JvdW5kLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3RlbXBsYXRlcy9zcmMvbGliL2NvbXBvbmVudHMvcG8tcGFnZS1iYWNrZ3JvdW5kL3BvLXBhZ2UtYmFja2dyb3VuZC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy90ZW1wbGF0ZXMvc3JjL2xpYi9jb21wb25lbnRzL3BvLXBhZ2UtYmFja2dyb3VuZC9wby1wYWdlLWJhY2tncm91bmQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUvRSxPQUFPLEVBQWlELGlCQUFpQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFFeEcsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxNQUFNLG9CQUFvQixDQUFDOzs7Ozs7SUNGNUQsMEJBTUU7OztJQUhBLCtEQUErQztJQUUvQyxtREFBWTs7OztJQVlWLCtCQUF5RSxvQkFBQTtJQUdyRSx5T0FBb0Msa0tBRXhCLHlCQUFrQixJQUZNO0lBSXRDLGlCQUFZLEVBQUE7OztJQUpWLGVBQW9DO0lBQXBDLHVEQUFvQywyQ0FBQTs7O0lBZXRDLDBCQUtFOzs7SUFEQSw0REFBcUI7OztJQU8vQiwrQkFJQyxjQUFBLGNBQUE7SUFFZ0MsWUFBbUI7SUFBQSxpQkFBTSxFQUFBLEVBQUE7OztJQUh4RCxvRUFBb0Q7SUFEcEQsbUhBQThGO0lBSS9ELGVBQW1CO0lBQW5CLDBDQUFtQjs7O0FEM0N0RDs7Ozs7OztHQU9HO0FBQ0gsTUFBTSxPQUFPLHlCQUF5QjtJQTRFcEMsWUFBbUIsaUJBQW9DO1FBQXBDLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBbUI7UUEvRHZEOzs7Ozs7O1dBT0c7UUFDNEIscUJB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QWhDLEtBQUs7bUJBQUMsY0FBYztZQUdRLHFCQUFxQjtrQkFBakQsS0FBSzttQkFBQyxvQkFBb0I7WUFHTCxRQUFRO2tCQUE3QixLQUFLO21CQUFDLGFBQWE7WUFHTyxhQUFhO2tCQUF2QyxLQUFLO21CQUFDLGtCQUFrQjtZQVVNLGdCQUFnQjtrQkFBOUMsTUFBTTttQkFBQyxxQkFBcUI7WUFXSCxhQUFhO2tCQUF0QyxLQUFLO21CQUFDLGFBQWE7WUFhQyxJQUFJO2tCQUF4QixLQUFLO21CQUFDLFFBQVE7WUFlZ0IsYUFBYTtrQkFBM0MsS0FBSzttQkFBQyxrQkFBa0I7WUFTWSxrQkFBa0I7a0JBQXRELEtBQUs7bUJBQUMsd0JBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBQb1NlbGVjdE9wdGlvbiwgUG9MYW5ndWFnZVNlcnZpY2UsIFBvTGFuZ3VhZ2UsIHBvTGFuZ3VhZ2VEZWZhdWx0IH0gZnJvbSAnQHBvLXVpL25nLWNvbXBvbmVudHMnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuLCBpc1R5cGVvZiB9IGZyb20gJy4vLi4vLi4vdXRpbHMvdXRpbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLXBhZ2UtYmFja2dyb3VuZCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9wby1wYWdlLWJhY2tncm91bmQuY29tcG9uZW50Lmh0bWwnXG59KVxuXG4vKipcbiAqIEBkb2NzUHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIENvbXBvbmVudGUgcGFyYSBkZWZpbmnDp8OjbyBkZSBjb3IgZGUgZnVuZG8gZSBkb3MgbG9nb3RpcG9zIHByaW3DoXJpbyBlIHNlY3VuZMOhcmlvIHBhcmEgb3MgdGVtcGxhdGVzXG4gKiBkZSBgcG8tcGFnZS1sb2dpbmAgZSBkZW1haXMgdGVtcGxhdGVzIGRlIGxvZ2luLlxuICovXG5leHBvcnQgY2xhc3MgUG9QYWdlQmFja2dyb3VuZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIC8qKiBJbnNlcmUgdW1hIGltYWdlbSBkZSBkZXN0YXF1ZSBhbyBsYWRvIGRpcmVpdG8gZG8gY29udGFpbmVyLiAqL1xuICBASW5wdXQoJ3AtYmFja2dyb3VuZCcpIGJhY2tncm91bmQ/OiBzdHJpbmc7XG5cbiAgLyoqIElkaW9tYSBpbmljaWFsIHNlbGVjaW9uYWRvIG5vIGNvbWJvICovXG4gIEBJbnB1dCgncC1pbml0aWFsLWxhbmd1YWdlJykgaW5pdGlhbFNlbGVjdExhbmd1YWdlPzogc3RyaW5nO1xuXG4gIC8qKiBEZXNpZ25hIHNlIG8gbG9nb3RpcG8gZGV2ZSBkZXNhcGFyZWNlciBlbSByZXNvbHXDp8O1ZXMgbWVub3Jlcy4gKi9cbiAgQElucHV0KCdwLWhpZGUtbG9nbycpIGhpZGVMb2dvPzogYm9vbGVhbjtcblxuICAvKiogVGV4dG8gZGUgZGVzdGFxdWUgc29icmVwb3N0byDDoCBpbWFnZW0gZGUgZGVzdGFxdWUuIEVzc2Egb3DDp8OjbyDDqSB1dGlsaXphZGEgZW0gY29uanVudG8gY29tIG8gYXRyaWJ1dG8gYHAtYmFja2dyb3VuZGAuICovXG4gIEBJbnB1dCgncC1oaWdobGlnaHQtaW5mbycpIGhpZ2hsaWdodEluZm8/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRXZlbnRvIGRpc3BhcmFkbyBhbyBzZWxlY2lvbmFyIGFsZ3VtYSBvcMOnw6NvIG5vIHNlbGV0b3IgZGUgaWRpb21hcy5cbiAgICogUGFyYSBlc3RlIGV2ZW50byBzZXLDoSBwYXNzYWRvIGNvbW8gcGFyw6JtZXRybyBvIHZhbG9yIGRlIGlkaW9tYSBzZWxlY2lvbmFkby5cbiAgICovXG4gIEBPdXRwdXQoJ3Atc2VsZWN0ZWQtbGFuZ3VhZ2UnKSBzZWxlY3RlZExhbmd1YWdlOiBFdmVudEVtaXR0ZXI8c3RyaW5nPiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xuXG4gIHNlbGVjdGVkTGFuZ3VhZ2VPcHRpb246IHN0cmluZztcblxuICBwcml2YXRlIF9sb2dvPzogc3RyaW5nO1xuICBwcml2YXRlIF9zZWNvbmRhcnlMb2dvPzogc3RyaW5nO1xuICBwcml2YXRlIF9zaG93U2VsZWN0TGFuZ3VhZ2U/OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2xhbmd1YWdlc0xpc3Q6IEFycmF5PFBvTGFuZ3VhZ2U+O1xuICBwcml2YXRlIF9zZWxlY3RMYW5ndWFnZU9wdGlvbnM6IEFycmF5PFBvU2VsZWN0T3B0aW9uPjtcblxuICAvKiogTGlzdGEgZGUgaWRpb21hcyBwYXJhIG8gY29tYm8gYm94ICovXG4gIEBJbnB1dCgncC1sYW5ndWFnZXMnKSBzZXQgbGFuZ3VhZ2VzTGlzdCh2YWx1ZTogQXJyYXk8UG9MYW5ndWFnZT4pIHtcbiAgICB0aGlzLl9sYW5ndWFnZXNMaXN0ID0gdmFsdWU7XG4gICAgdGhpcy5zZXRMYW5ndWFnZU9wdGlvbnMoKTtcbiAgfVxuXG4gIGdldCBsYW5ndWFnZXNMaXN0KCk6IEFycmF5PFBvTGFuZ3VhZ2U+IHtcbiAgICBpZiAodGhpcy5fbGFuZ3VhZ2VzTGlzdD8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGFuZ3VhZ2VzTGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIHBvTGFuZ3VhZ2VEZWZhdWx0O1xuICB9XG5cbiAgLyoqIENhbWluaG8gcGFyYSBhIGxvZ29tYXJjYSBsb2NhbGl6YWRhIG5hIHBhcnRlIHN1cGVyaW9yLiAqL1xuICBASW5wdXQoJ3AtbG9nbycpIHNldCBsb2dvKHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLl9sb2dvID0gaXNUeXBlb2YodmFsdWUsICdzdHJpbmcnKSAmJiB2YWx1ZS50cmltKCkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldCBsb2dvKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2dvO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQ2FtaW5obyBwYXJhIGEgbG9nb21hcmNhIGxvY2FsaXphZGEgbm8gcm9kYXDDqS5cbiAgICovXG4gIEBJbnB1dCgncC1zZWNvbmRhcnktbG9nbycpIHNldCBzZWNvbmRhcnlMb2dvKHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLl9zZWNvbmRhcnlMb2dvID0gaXNUeXBlb2YodmFsdWUsICdzdHJpbmcnKSAmJiB2YWx1ZS50cmltKCkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldCBzZWNvbmRhcnlMb2dvKCkge1xuICAgIHJldHVybiB0aGlzLl9zZWNvbmRhcnlMb2dvO1xuICB9XG5cbiAgLyoqIERlZmluZSBzZSBvIHNlbGV0b3IgZGUgaWRpb21hcyBkZXZlIHNlciBleGliaWRvLiAqL1xuICBASW5wdXQoJ3Atc2hvdy1zZWxlY3QtbGFuZ3VhZ2UnKSBzZXQgc2hvd1NlbGVjdExhbmd1YWdlKHNob3dTZWxlY3RMYW5ndWFnZTogYm9vbGVhbikge1xuICAgIHRoaXMuX3Nob3dTZWxlY3RMYW5ndWFnZSA9IGNvbnZlcnRUb0Jvb2xlYW4oc2hvd1NlbGVjdExhbmd1YWdlKTtcbiAgfVxuICBnZXQgc2hvd1NlbGVjdExhbmd1YWdlKCkge1xuICAgIHJldHVybiB0aGlzLl9zaG93U2VsZWN0TGFuZ3VhZ2U7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcG9MYW5ndWFnZVNlcnZpY2U6IFBvTGFuZ3VhZ2VTZXJ2aWNlKSB7fVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuc2VsZWN0ZWRMYW5ndWFnZU9wdGlvbiA9IHRoaXMuaW5pdGlhbFNlbGVjdExhbmd1YWdlIHx8IHRoaXMucG9MYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpO1xuICB9XG5cbiAgb25DaGFuZ2VMYW5ndWFnZSgpIHtcbiAgICB0aGlzLnNlbGVjdGVkTGFuZ3VhZ2UuZW1pdCh0aGlzLnNlbGVjdGVkTGFuZ3VhZ2VPcHRpb24pO1xuICB9XG5cbiAgZ2V0IHNlbGVjdExhbmd1YWdlT3B0aW9ucygpOiBBcnJheTxQb1NlbGVjdE9wdGlvbj4ge1xuICAgIHJldHVybiB0aGlzLl9zZWxlY3RMYW5ndWFnZU9wdGlvbnM7XG4gIH1cblxuICBwcml2YXRlIHNldExhbmd1YWdlT3B0aW9ucygpIHtcbiAgICB0aGlzLl9zZWxlY3RMYW5ndWFnZU9wdGlvbnMgPSB0aGlzLmxhbmd1YWdlc0xpc3QubWFwPFBvU2VsZWN0T3B0aW9uPihsYW5ndWFnZSA9PiAoe1xuICAgICAgbGFiZWw6IGxhbmd1YWdlLmRlc2NyaXB0aW9uLFxuICAgICAgdmFsdWU6IGxhbmd1YWdlLmxhbmd1YWdlXG4gICAgfSkpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwicG8tcGFnZS1sb2dpbi1jb250YWluZXJcIj5cbiAgPGRpdiBjbGFzcz1cInBvLXBhZ2UtbG9naW4tcGFuZWxcIj5cbiAgICA8aW1nXG4gICAgICAqbmdJZj1cImxvZ29cIlxuICAgICAgY2xhc3M9XCJwby1wYWdlLWJhY2tncm91bmQtbWFpbi1sb2dvXCJcbiAgICAgIFtjbGFzcy5wby1wYWdlLWJhY2tncm91bmQtaGlkZS1sb2dvXT1cImhpZGVMb2dvXCJcbiAgICAgIGFsdD1cIm1haW4tbG9nb1wiXG4gICAgICBbc3JjXT1cImxvZ29cIlxuICAgIC8+XG5cbiAgICA8ZGl2IGNsYXNzPVwicG8tcGFnZS1sb2dpbi1ib2R5XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicG8tcGFnZS1sb2dpbi1wYW5lbC1jb250ZW50XCI+XG4gICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWJhY2tncm91bmQtZm9vdGVyIHBvLXNtLTEyXCI+XG4gICAgICA8cG8tZGl2aWRlciBjbGFzcz1cInBvLXBhZ2UtYmFja2dyb3VuZC1mb290ZXItbW9iaWxlLW9ubHlcIj48L3BvLWRpdmlkZXI+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWJhY2tncm91bmQtZm9vdGVyLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiAqbmdJZj1cInNob3dTZWxlY3RMYW5ndWFnZVwiIGNsYXNzPVwicG8tcGFnZS1iYWNrZ3JvdW5kLWZvb3Rlci1zZWxlY3RcIj5cbiAgICAgICAgICA8cG8tc2VsZWN0XG4gICAgICAgICAgICBuYW1lPVwic2VsZWN0ZWRMYW5ndWFnZU9wdGlvblwiXG4gICAgICAgICAgICBbKG5nTW9kZWwpXT1cInNlbGVjdGVkTGFuZ3VhZ2VPcHRpb25cIlxuICAgICAgICAgICAgW3Atb3B0aW9uc109XCJzZWxlY3RMYW5ndWFnZU9wdGlvbnNcIlxuICAgICAgICAgICAgKHAtY2hhbmdlKT1cIm9uQ2hhbmdlTGFuZ3VhZ2UoKVwiXG4gICAgICAgICAgPlxuICAgICAgICAgIDwvcG8tc2VsZWN0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3M9XCJwby1wYWdlLWJhY2tncm91bmQtc2Vjb25kYXJ5LWxvZ29cIlxuICAgICAgICAgIFtuZ0NsYXNzXT1cIlxuICAgICAgICAgICAgc2hvd1NlbGVjdExhbmd1YWdlXG4gICAgICAgICAgICAgID8gJ3BvLXBhZ2UtYmFja2dyb3VuZC1zZWNvbmRhcnktbG9nby1yaWdodCdcbiAgICAgICAgICAgICAgOiAncG8tcGFnZS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1sb2dvLWNlbnRlcmVkJ1xuICAgICAgICAgIFwiXG4gICAgICAgID5cbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAqbmdJZj1cInNlY29uZGFyeUxvZ29cIlxuICAgICAgICAgICAgY2xhc3M9XCJwby1wYWdlLWJhY2tncm91bmQtc2Vjb25kYXJ5LWxvZ28taW1hZ2VcIlxuICAgICAgICAgICAgYWx0PVwic2Vjb25kYXJ5LWxvZ29cIlxuICAgICAgICAgICAgW3NyY109XCJzZWNvbmRhcnlMb2dvXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICA8ZGl2XG4gICAgKm5nSWY9XCJiYWNrZ3JvdW5kXCJcbiAgICBbbmdDbGFzc109XCJiYWNrZ3JvdW5kID8gJ3BvLXBhZ2UtbG9naW4taGlnaGxpZ2h0LWltYWdlJyA6ICdwby1wYWdlLWxvZ2luLWhpZ2hsaWdodC1pbWFnZS1vZmYnXCJcbiAgICBbc3R5bGUuYmFja2dyb3VuZC1pbWFnZV09XCIndXJsKCcgKyBiYWNrZ3JvdW5kICsgJyknXCJcbiAgPlxuICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWxvZ2luLWhpZ2hsaWdodC10ZXh0XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicG8tZm9udC1kaXNwbGF5XCI+e3sgaGlnaGxpZ2h0SW5mbyB9fTwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuIl19