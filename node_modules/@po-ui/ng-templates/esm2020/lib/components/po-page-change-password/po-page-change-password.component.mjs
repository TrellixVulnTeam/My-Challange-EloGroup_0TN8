import { Component, ViewChild, ViewContainerRef } from '@angular/core';
import { NgForm } from '@angular/forms';
import { PoModalComponent, poLocaleDefault } from '@po-ui/ng-components';
import { isExternalLink, isTypeof } from '../../utils/util';
import { PoModalPasswordRecoveryComponent } from '../po-modal-password-recovery/po-modal-password-recovery.component';
import { PoModalPasswordRecoveryType } from '../po-modal-password-recovery/enums/po-modal-password-recovery-type.enum';
import { PoPageChangePasswordBaseComponent } from './po-page-change-password-base.component';
import { poPageChangePasswordLiterals } from './literals/i18n/po-page-change-password-literals';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "./po-page-change-password.service";
import * as i3 from "@po-ui/ng-components";
import * as i4 from "../po-page-background/po-page-background.component";
import * as i5 from "@angular/forms";
import * as i6 from "@angular/common";
const _c0 = ["pageChangePassword"];
const _c1 = ["passwordForm"];
function PoPageChangePasswordComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    const _r7 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div")(1, "po-password", 30);
    i0.ɵɵlistener("ngModelChange", function PoPageChangePasswordComponent_div_13_Template_po_password_ngModelChange_1_listener($event) { i0.ɵɵrestoreView(_r7); const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.currentPassword = $event; });
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngModel", ctx_r2.currentPassword)("p-label", ctx_r2.literals.currentPassword);
} }
function PoPageChangePasswordComponent_div_14_a_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "a", 35);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r8 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("routerLink", ctx_r8.recovery);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", ctx_r8.literals.forgotPassword, " ");
} }
function PoPageChangePasswordComponent_div_14_a_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "a", 36);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r9 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("href", ctx_r9.recovery, i0.ɵɵsanitizeUrl);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", ctx_r9.literals.forgotPassword, " ");
} }
function PoPageChangePasswordComponent_div_14_a_3_Template(rf, ctx) { if (rf & 1) {
    const _r12 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "a", 37);
    i0.ɵɵlistener("click", function PoPageChangePasswordComponent_div_14_a_3_Template_a_click_0_listener() { i0.ɵɵrestoreView(_r12); const ctx_r11 = i0.ɵɵnextContext(2); return ctx_r11.onForgotPasswordClick(ctx_r11.recovery); });
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r10 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate1(" ", ctx_r10.literals.forgotPassword, " ");
} }
function PoPageChangePasswordComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 31);
    i0.ɵɵtemplate(1, PoPageChangePasswordComponent_div_14_a_1_Template, 2, 2, "a", 32);
    i0.ɵɵtemplate(2, PoPageChangePasswordComponent_div_14_a_2_Template, 2, 2, "a", 33);
    i0.ɵɵtemplate(3, PoPageChangePasswordComponent_div_14_a_3_Template, 2, 1, "a", 34);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r3.recoveryUrlType === "internalLink");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r3.recoveryUrlType === "externalLink");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", !ctx_r3.recoveryUrlType);
} }
function PoPageChangePasswordComponent_div_19_li_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "li", 40);
    i0.ɵɵelement(1, "span", 43);
    i0.ɵɵelementStart(2, "p", 44);
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const requirement_r14 = ctx.$implicit;
    const ctx_r13 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngClass", ctx_r13.validateRequirement(requirement_r14) ? "po-icon-ok po-page-change-password-required-ok" : "po-icon-minus po-page-change-password-required-minus");
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate1(" ", requirement_r14.requirement, " ");
} }
function PoPageChangePasswordComponent_div_19_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 38)(1, "po-container")(2, "ul", 39)(3, "li", 40)(4, "p", 41);
    i0.ɵɵtext(5);
    i0.ɵɵelementEnd()();
    i0.ɵɵtemplate(6, PoPageChangePasswordComponent_div_19_li_6_Template, 4, 2, "li", 42);
    i0.ɵɵelementEnd()()();
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext();
    i0.ɵɵadvance(5);
    i0.ɵɵtextInterpolate1(" ", ctx_r4.literals == null ? null : ctx_r4.literals.requirements, " ");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngForOf", ctx_r4.requirements);
} }
function PoPageChangePasswordComponent_po_button_38_Template(rf, ctx) { if (rf & 1) {
    const _r16 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "po-button", 45);
    i0.ɵɵlistener("p-click", function PoPageChangePasswordComponent_po_button_38_Template_po_button_p_click_0_listener() { i0.ɵɵrestoreView(_r16); const ctx_r15 = i0.ɵɵnextContext(); return ctx_r15.navigateTo(ctx_r15.urlBack); });
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext();
    i0.ɵɵproperty("p-label", ctx_r5.literals.backButton);
} }
const _c2 = function (a0) { return { "po-offset-md-3 po-offset-lg-3 po-offset-xl-3": a0 }; };
/**
 * @docsExtends PoPageChangePasswordBaseComponent
 *
 * @example
 *
 * <example name="po-page-change-password-basic" title="PO Page Change Password Basic">
 *  <file name="sample-po-page-change-password-basic/sample-po-page-change-password-basic.component.html"> </file>
 *  <file name="sample-po-page-change-password-basic/sample-po-page-change-password-basic.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-change-password-labs" title="PO Page Change Password Labs">
 *  <file name="sample-po-page-change-password-labs/sample-po-page-change-password-labs.component.html"> </file>
 *  <file name="sample-po-page-change-password-labs/sample-po-page-change-password-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-change-password-modify" title="PO Page Change Password Modify">
 *  <file name="sample-po-page-change-password-modify/sample-po-page-change-password-modify.component.html"> </file>
 *  <file name="sample-po-page-change-password-modify/sample-po-page-change-password-modify.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-change-password-create" title="PO Page Change Password Create">
 *  <file name="sample-po-page-change-password-create/sample-po-page-change-password-create.component.html"> </file>
 *  <file name="sample-po-page-change-password-create/sample-po-page-change-password-create.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-change-password-request" title="PO Page Change Password Request">
 *  <file name="sample-po-page-change-password-request/sample-po-page-change-password-request.component.html"> </file>
 *  <file name="sample-po-page-change-password-request/sample-po-page-change-password-request.component.ts"> </file>
 * </example>
 */
export class PoPageChangePasswordComponent extends PoPageChangePasswordBaseComponent {
    constructor(activatedRoute, route, router, service, poComponentInjector, languageService, viewRef) {
        super();
        this.activatedRoute = activatedRoute;
        this.route = route;
        this.router = router;
        this.service = service;
        this.poComponentInjector = poComponentInjector;
        this.literals = poPageChangePasswordLiterals[poLocaleDefault];
        this.modalAction = {
            action: this.navigateTo.bind(this, this.urlHome),
            label: this.literals.enterSystemButton
        };
        this.componentRef = null;
        const language = languageService.getShortLanguage();
        this.literals = {
            ...poPageChangePasswordLiterals[poLocaleDefault],
            ...poPageChangePasswordLiterals[language]
        };
    }
    ngAfterViewInit() {
        if (this.urlNewPassword) {
            this.subscribeToTokenParameter();
        }
    }
    ngOnDestroy() {
        if (this.newPasswordSubscription) {
            this.newPasswordSubscription.unsubscribe();
        }
    }
    ngOnInit() {
        this.checkingForRouteMetadata(this.activatedRoute.snapshot.data);
    }
    navigateTo(url) {
        isExternalLink(url) ? window.open(url) : this.router.navigate([url || '/']);
    }
    onForgotPasswordClick(recovery) {
        if (isTypeof(recovery, 'function')) {
            recovery();
        }
        else {
            this.createModalPasswordRecoveryComponent(recovery);
        }
    }
    onLoginSubmit() {
        const form = this.getLoginForm();
        if (this.urlNewPassword) {
            this.postUrlNewPassword(form);
        }
        else if (this.submit && this.submit.observers.length) {
            this.emitSubmit(form);
        }
    }
    /**
     * Abre uma modal de confirmação com texto, imagem e botão que redireciona para o link definido na propriedade `p-url-home`
     */
    openConfirmation() {
        this.modal.open();
    }
    validatePassword() {
        const controls = this.passwordForm.form.controls;
        const controlConfirmPassword = controls['confirmPassword'];
        const controlNewPassword = controls['newPassword'];
        if (!this.newPassword) {
            this.setFormErrors({ 'required': true }, [controlNewPassword]);
        }
        else if (!this.confirmPassword) {
            this.setFormErrors({ 'required': true }, [controlConfirmPassword]);
        }
        else if (this.newPassword && this.confirmPassword && this.newPassword !== this.confirmPassword) {
            this.setFormErrors({ 'equalPassword': true }, [controlNewPassword, controlConfirmPassword]);
        }
        else {
            this.setFormErrors(null, [controlConfirmPassword, controlNewPassword]);
        }
        if (this.requirements.length &&
            this.requirements.find(requirement => this.validateRequirement(requirement) === false)) {
            this.setFormErrors({ 'requirement': true }, [controlNewPassword]);
        }
    }
    validateRequirement(requirement) {
        return typeof requirement.status === 'function' ? requirement.status(this.newPassword) : requirement.status;
    }
    checkingForMetadataProperty(object, property) {
        if (Object.prototype.hasOwnProperty.call(object, property)) {
            return object[property];
        }
    }
    checkingForRouteMetadata(data) {
        if (Object.keys(data).length !== 0) {
            this.urlNewPassword = this.checkingForMetadataProperty(data, 'serviceApi') || this.urlNewPassword;
            this.recovery = this.checkingForMetadataProperty(data, 'recovery') || this.recovery;
            this.hideCurrentPassword =
                this.checkingForMetadataProperty(data, 'hideCurrentPassword') || this.hideCurrentPassword;
        }
    }
    createModalPasswordRecoveryComponent(recovery) {
        if (this.componentRef) {
            this.poComponentInjector.destroyComponentInApplication(this.componentRef);
        }
        this.componentRef = this.poComponentInjector.createComponentInApplication(PoModalPasswordRecoveryComponent);
        this.componentRef.instance.recovery = recovery.url;
        this.componentRef.instance.contactEmail = recovery.contactMail;
        this.componentRef.instance.phoneMask = recovery.phoneMask;
        this.componentRef.instance.type = recovery.type || PoModalPasswordRecoveryType.Email;
        this.componentRef.changeDetectorRef.detectChanges();
        setTimeout(() => {
            this.componentRef.instance.open();
        });
    }
    emitSubmit(form) {
        this.submit.emit(form);
    }
    getLoginForm() {
        return {
            currentPassword: this.currentPassword,
            newPassword: this.newPassword
        };
    }
    postUrlNewPassword(form) {
        form['token'] = this.token;
        this.service.post(this.urlNewPassword, form).subscribe(response => {
            if (response.status === 204) {
                this.openConfirmation();
            }
        });
    }
    setFormErrors(error, controls) {
        controls.forEach(control => {
            control.setErrors(error);
        });
    }
    subscribeToTokenParameter() {
        this.route.queryParams.subscribe(params => {
            const token = params['token'];
            if (token) {
                this.token = token;
            }
        });
    }
}
PoPageChangePasswordComponent.ɵfac = function PoPageChangePasswordComponent_Factory(t) { return new (t || PoPageChangePasswordComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PoPageChangePasswordService), i0.ɵɵdirectiveInject(i3.PoComponentInjectorService), i0.ɵɵdirectiveInject(i3.PoLanguageService), i0.ɵɵdirectiveInject(i0.ViewContainerRef)); };
PoPageChangePasswordComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoPageChangePasswordComponent, selectors: [["po-page-change-password"]], viewQuery: function PoPageChangePasswordComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(PoModalComponent, 7);
        i0.ɵɵviewQuery(_c0, 7, ViewContainerRef);
        i0.ɵɵviewQuery(_c1, 7, NgForm);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modal = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pageChangePassword = _t.first);
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.passwordForm = _t.first);
    } }, features: [i0.ɵɵInheritDefinitionFeature], decls: 43, vars: 25, consts: [[1, "po-page-change-password-wrapper"], ["pageChangePassword", ""], [1, "po-page-change-password-container"], [1, "po-page-change-password", 3, "p-logo", "p-secondary-logo"], [1, "po-page-blocked-user-header", "po-row"], [1, "po-md-12"], [1, "po-md-12", "po-text-center", "po-font-text"], ["passwordForm", "ngForm"], [1, "po-row", "po-mt-3", "po-mt-sm-1"], [1, "po-md-6", 3, "ngClass"], [4, "ngIf"], ["class", "po-text-center po-mb-sm-1 po-mb-2", 4, "ngIf"], ["name", "newPassword", "p-required", "", 3, "ngModel", "p-label", "ngModelChange", "p-change-model"], ["name", "confirmPassword", "p-required", "", 3, "ngModel", "p-label", "ngModelChange", "p-change-model"], ["class", "po-md-6 po-page-change-password-required-container", 4, "ngIf"], [1, "po-sm-12"], [1, "po-page-change-password-tips", "po-row"], [1, "po-md-2", "po-mr-3"], ["alt", "Blocked user image", "src", "./assets/images/big-lock.svg", 1, "po-page-change-password-lock-image", "po-mb-3"], [1, "po-md-9", "po-page-change-password-tips-text"], [1, "po-font-text-bold", "po-pb-1"], [1, "po-font-text-small"], [1, "po-row", "po-pb-1"], [1, "po-page-change-password-buttons", "po-row"], [1, "po-sm-12", "po-mobile-only"], ["class", "po-sm-6 po-mb-sm-1", 3, "p-label", "p-click", 4, "ngIf"], ["p-type", "primary", 3, "ngClass", "p-disabled", "p-label", "p-click"], ["p-hide-close", "", "p-size", "auto", 3, "p-primary-action", "p-title"], [1, "po-text-center"], ["alt", "Blocked user image", "src", "./assets/images/success.svg", 1, "po-page-change-password-lock-image", "po-mb-3"], ["name", "currentPassword", "p-required", "", 3, "ngModel", "p-label", "ngModelChange"], [1, "po-text-center", "po-mb-sm-1", "po-mb-2"], ["class", "po-font-text-bold po-page-change-password-forgot-password", 3, "routerLink", 4, "ngIf"], ["class", "po-font-text-bold po-page-change-password-forgot-password", 3, "href", 4, "ngIf"], ["class", "po-font-text-bold po-page-change-password-forgot-password po-clickable", 3, "click", 4, "ngIf"], [1, "po-font-text-bold", "po-page-change-password-forgot-password", 3, "routerLink"], [1, "po-font-text-bold", "po-page-change-password-forgot-password", 3, "href"], [1, "po-font-text-bold", "po-page-change-password-forgot-password", "po-clickable", 3, "click"], [1, "po-md-6", "po-page-change-password-required-container"], [1, "po-page-change-password-required-list"], [1, "po-page-change-password-required-item"], [1, "po-mb-1", "po-font-text-bold", "po-page-change-password-required-title"], ["class", "po-page-change-password-required-item", 4, "ngFor", "ngForOf"], [1, "po-icon", "po-page-change-password-required-icon", 3, "ngClass"], [1, "po-page-change-password-required-text", "po-font-text"], [1, "po-sm-6", "po-mb-sm-1", 3, "p-label", "p-click"]], template: function PoPageChangePasswordComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0, 1)(2, "div", 2)(3, "po-page-background", 3)(4, "div", 4)(5, "div", 5);
        i0.ɵɵtext(6);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(7, "div", 6);
        i0.ɵɵtext(8);
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(9, "form", null, 7)(11, "div", 8)(12, "div", 9);
        i0.ɵɵtemplate(13, PoPageChangePasswordComponent_div_13_Template, 2, 2, "div", 10);
        i0.ɵɵtemplate(14, PoPageChangePasswordComponent_div_14_Template, 4, 3, "div", 11);
        i0.ɵɵelementStart(15, "div")(16, "po-password", 12);
        i0.ɵɵlistener("ngModelChange", function PoPageChangePasswordComponent_Template_po_password_ngModelChange_16_listener($event) { return ctx.newPassword = $event; })("p-change-model", function PoPageChangePasswordComponent_Template_po_password_p_change_model_16_listener() { return ctx.validatePassword(); });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(17, "div")(18, "po-password", 13);
        i0.ɵɵlistener("ngModelChange", function PoPageChangePasswordComponent_Template_po_password_ngModelChange_18_listener($event) { return ctx.confirmPassword = $event; })("p-change-model", function PoPageChangePasswordComponent_Template_po_password_p_change_model_18_listener() { return ctx.validatePassword(); });
        i0.ɵɵelementEnd()()();
        i0.ɵɵtemplate(19, PoPageChangePasswordComponent_div_19_Template, 7, 2, "div", 14);
        i0.ɵɵelementEnd()();
        i0.ɵɵelement(20, "po-divider", 15);
        i0.ɵɵelementStart(21, "div", 16)(22, "div", 17);
        i0.ɵɵelement(23, "img", 18);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(24, "div", 19)(25, "div", 20);
        i0.ɵɵtext(26);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(27, "div", 21)(28, "div", 22);
        i0.ɵɵtext(29);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(30, "div", 22);
        i0.ɵɵtext(31);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(32, "div", 22);
        i0.ɵɵtext(33);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(34, "div", 22);
        i0.ɵɵtext(35);
        i0.ɵɵelementEnd()()()();
        i0.ɵɵelementStart(36, "div", 23);
        i0.ɵɵelement(37, "po-divider", 24);
        i0.ɵɵtemplate(38, PoPageChangePasswordComponent_po_button_38_Template, 1, 1, "po-button", 25);
        i0.ɵɵelementStart(39, "po-button", 26);
        i0.ɵɵlistener("p-click", function PoPageChangePasswordComponent_Template_po_button_p_click_39_listener() { return ctx.onLoginSubmit(); });
        i0.ɵɵelementEnd()()()()();
        i0.ɵɵelementStart(40, "po-modal", 27)(41, "div", 28);
        i0.ɵɵelement(42, "img", 29);
        i0.ɵɵelementEnd()();
    } if (rf & 2) {
        const _r1 = i0.ɵɵreference(10);
        i0.ɵɵadvance(3);
        i0.ɵɵproperty("p-logo", ctx.logo)("p-secondary-logo", ctx.secondaryLogo);
        i0.ɵɵadvance(3);
        i0.ɵɵtextInterpolate(ctx.literals.createNewPassword);
        i0.ɵɵadvance(2);
        i0.ɵɵtextInterpolate1(" ", ctx.literals.createNewPasswordPhrase, " ");
        i0.ɵɵadvance(4);
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(23, _c2, !ctx.showRequirements));
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", !ctx.hideCurrentPassword);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", !ctx.hideCurrentPassword && ctx.recovery);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngModel", ctx.newPassword)("p-label", ctx.literals.newPassword);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngModel", ctx.confirmPassword)("p-label", ctx.literals.confirmPassword);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.showRequirements);
        i0.ɵɵadvance(7);
        i0.ɵɵtextInterpolate(ctx.literals.safetyTips);
        i0.ɵɵadvance(3);
        i0.ɵɵtextInterpolate(ctx.literals.safetyTipsPhrase);
        i0.ɵɵadvance(2);
        i0.ɵɵtextInterpolate1("\u2022 ", ctx.literals.safetyTipsFirst, "");
        i0.ɵɵadvance(2);
        i0.ɵɵtextInterpolate1("\u2022 ", ctx.literals.safetyTipsSecond, "");
        i0.ɵɵadvance(2);
        i0.ɵɵtextInterpolate1("\u2022 ", ctx.literals.safetyTipsThird, "");
        i0.ɵɵadvance(3);
        i0.ɵɵproperty("ngIf", !ctx.hideCurrentPassword);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngClass", ctx.hideCurrentPassword ? "po-md-12" : "po-sm-6")("p-disabled", _r1.invalid)("p-label", ctx.literals.saveButton);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("p-primary-action", ctx.modalAction)("p-title", ctx.hideCurrentPassword ? ctx.literals.passwordSuccessfullyCreated : ctx.literals.passwordSuccessfullyUpdated);
    } }, directives: [i4.PoPageBackgroundComponent, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i6.NgClass, i6.NgIf, i3.PoPasswordComponent, i5.NgControlStatus, i5.NgModel, i1.RouterLinkWithHref, i3.PoContainerComponent, i6.NgForOf, i3.PoDividerComponent, i3.PoButtonComponent, i3.PoModalComponent], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoPageChangePasswordComponent, [{
        type: Component,
        args: [{ selector: 'po-page-change-password', template: "<div class=\"po-page-change-password-wrapper\" #pageChangePassword>\n  <div class=\"po-page-change-password-container\">\n    <po-page-background class=\"po-page-change-password\" [p-logo]=\"logo\" [p-secondary-logo]=\"secondaryLogo\">\n      <div class=\"po-page-blocked-user-header po-row\">\n        <div class=\"po-md-12\">{{ literals.createNewPassword }}</div>\n        <div class=\"po-md-12 po-text-center po-font-text\">\n          {{ literals.createNewPasswordPhrase }}\n        </div>\n      </div>\n\n      <form #passwordForm=\"ngForm\">\n        <div class=\"po-row po-mt-3 po-mt-sm-1\">\n          <div class=\"po-md-6\" [ngClass]=\"{ 'po-offset-md-3 po-offset-lg-3 po-offset-xl-3': !showRequirements }\">\n            <div *ngIf=\"!hideCurrentPassword\">\n              <po-password\n                name=\"currentPassword\"\n                [(ngModel)]=\"currentPassword\"\n                p-required\n                [p-label]=\"literals.currentPassword\"\n              >\n              </po-password>\n            </div>\n            <div *ngIf=\"!hideCurrentPassword && recovery\" class=\"po-text-center po-mb-sm-1 po-mb-2\">\n              <a\n                *ngIf=\"recoveryUrlType === 'internalLink'\"\n                class=\"po-font-text-bold po-page-change-password-forgot-password\"\n                [routerLink]=\"recovery\"\n              >\n                {{ literals.forgotPassword }}\n              </a>\n              <a\n                *ngIf=\"recoveryUrlType === 'externalLink'\"\n                class=\"po-font-text-bold po-page-change-password-forgot-password\"\n                [href]=\"recovery\"\n              >\n                {{ literals.forgotPassword }}\n              </a>\n              <a\n                *ngIf=\"!recoveryUrlType\"\n                class=\"po-font-text-bold po-page-change-password-forgot-password po-clickable\"\n                (click)=\"onForgotPasswordClick(recovery)\"\n              >\n                {{ literals.forgotPassword }}\n              </a>\n            </div>\n            <div>\n              <po-password\n                name=\"newPassword\"\n                [(ngModel)]=\"newPassword\"\n                p-required\n                [p-label]=\"literals.newPassword\"\n                (p-change-model)=\"validatePassword()\"\n              >\n              </po-password>\n            </div>\n            <div>\n              <po-password\n                name=\"confirmPassword\"\n                [(ngModel)]=\"confirmPassword\"\n                p-required\n                [p-label]=\"literals.confirmPassword\"\n                (p-change-model)=\"validatePassword()\"\n              >\n              </po-password>\n            </div>\n          </div>\n          <div *ngIf=\"showRequirements\" class=\"po-md-6 po-page-change-password-required-container\">\n            <po-container>\n              <ul class=\"po-page-change-password-required-list\">\n                <li class=\"po-page-change-password-required-item\">\n                  <p class=\"po-mb-1 po-font-text-bold po-page-change-password-required-title\">\n                    {{ literals?.requirements }}\n                  </p>\n                </li>\n                <li *ngFor=\"let requirement of requirements\" class=\"po-page-change-password-required-item\">\n                  <span\n                    class=\"po-icon po-page-change-password-required-icon\"\n                    [ngClass]=\"\n                      validateRequirement(requirement)\n                        ? 'po-icon-ok po-page-change-password-required-ok'\n                        : 'po-icon-minus po-page-change-password-required-minus'\n                    \"\n                  >\n                  </span>\n                  <p class=\"po-page-change-password-required-text po-font-text\">\n                    {{ requirement.requirement }}\n                  </p>\n                </li>\n              </ul>\n            </po-container>\n          </div>\n        </div>\n      </form>\n\n      <po-divider class=\"po-sm-12\"></po-divider>\n\n      <div class=\"po-page-change-password-tips po-row\">\n        <div class=\"po-md-2 po-mr-3\">\n          <img\n            class=\"po-page-change-password-lock-image po-mb-3\"\n            alt=\"Blocked user image\"\n            src=\"./assets/images/big-lock.svg\"\n          />\n        </div>\n        <div class=\"po-md-9 po-page-change-password-tips-text\">\n          <div class=\"po-font-text-bold po-pb-1\">{{ literals.safetyTips }}</div>\n          <div class=\"po-font-text-small\">\n            <div class=\"po-row po-pb-1\">{{ literals.safetyTipsPhrase }}</div>\n            <div class=\"po-row po-pb-1\">\u2022 {{ literals.safetyTipsFirst }}</div>\n            <div class=\"po-row po-pb-1\">\u2022 {{ literals.safetyTipsSecond }}</div>\n            <div class=\"po-row po-pb-1\">\u2022 {{ literals.safetyTipsThird }}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"po-page-change-password-buttons po-row\">\n        <po-divider class=\"po-sm-12 po-mobile-only\"></po-divider>\n\n        <po-button\n          *ngIf=\"!hideCurrentPassword\"\n          class=\"po-sm-6 po-mb-sm-1\"\n          [p-label]=\"literals.backButton\"\n          (p-click)=\"navigateTo(urlBack)\"\n        >\n        </po-button>\n\n        <po-button\n          [ngClass]=\"hideCurrentPassword ? 'po-md-12' : 'po-sm-6'\"\n          p-type=\"primary\"\n          [p-disabled]=\"passwordForm.invalid\"\n          [p-label]=\"literals.saveButton\"\n          (p-click)=\"onLoginSubmit()\"\n        >\n        </po-button>\n      </div>\n    </po-page-background>\n  </div>\n</div>\n\n<po-modal\n  [p-primary-action]=\"modalAction\"\n  p-hide-close\n  p-size=\"auto\"\n  [p-title]=\"hideCurrentPassword ? literals.passwordSuccessfullyCreated : literals.passwordSuccessfullyUpdated\"\n>\n  <div class=\"po-text-center\">\n    <img\n      alt=\"Blocked user image\"\n      class=\"po-page-change-password-lock-image po-mb-3\"\n      src=\"./assets/images/success.svg\"\n    />\n  </div>\n</po-modal>\n" }]
    }], function () { return [{ type: i1.ActivatedRoute }, { type: i1.ActivatedRoute }, { type: i1.Router }, { type: i2.PoPageChangePasswordService }, { type: i3.PoComponentInjectorService }, { type: i3.PoLanguageService }, { type: i0.ViewContainerRef }]; }, { modal: [{
            type: ViewChild,
            args: [PoModalComponent, { static: true }]
        }], pageChangePassword: [{
            type: ViewChild,
            args: ['pageChangePassword', { read: ViewContainerRef, static: true }]
        }], passwordForm: [{
            type: ViewChild,
            args: ['passwordForm', { read: NgForm, static: true }]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGVtcGxhdGVzL3NyYy9saWIvY29tcG9uZW50cy9wby1wYWdlLWNoYW5nZS1wYXNzd29yZC9wby1wYWdlLWNoYW5nZS1wYXNzd29yZC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy90ZW1wbGF0ZXMvc3JjL2xpYi9jb21wb25lbnRzL3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkL3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBaUIsU0FBUyxFQUFtQyxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkgsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBS3hDLE9BQU8sRUFJTCxnQkFBZ0IsRUFDaEIsZUFBZSxFQUNoQixNQUFNLHNCQUFzQixDQUFDO0FBRTlCLE9BQU8sRUFBRSxjQUFjLEVBQUUsUUFBUSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFNUQsT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0sb0VBQW9FLENBQUM7QUFDdEgsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sMEVBQTBFLENBQUM7QUFFdkgsT0FBTyxFQUFFLGlDQUFpQyxFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFDN0YsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sa0RBQWtELENBQUM7Ozs7Ozs7Ozs7OztJQ1BwRiwyQkFBa0Msc0JBQUE7SUFHOUIseU9BQTZCO0lBSS9CLGlCQUFjLEVBQUE7OztJQUpaLGVBQTZCO0lBQTdCLGdEQUE2Qiw0Q0FBQTs7O0lBTy9CLDZCQUlDO0lBQ0MsWUFDRjtJQUFBLGlCQUFJOzs7SUFIRiw0Q0FBdUI7SUFFdkIsZUFDRjtJ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MUIsK0NBQTBCO1FBUzFCLGVBQXNDO1FBQXRDLCtEQUFzQztRQTBCeEMsZUFBeUI7UUFBekIseUNBQXlCLHFDQUFBO1FBVXpCLGVBQTZCO1FBQTdCLDZDQUE2Qix5Q0FBQTtRQVE3QixlQUFzQjtRQUF0QiwyQ0FBc0I7UUF1Q1csZUFBeUI7UUFBekIsNkNBQXlCO1FBRWxDLGVBQStCO1FBQS9CLG1EQUErQjtRQUMvQixlQUFnQztRQUFoQyxrRUFBZ0M7UUFDaEMsZUFBaUM7UUFBakMsbUVBQWlDO1FBQ2pDLGVBQWdDO1FBQWhDLGtFQUFnQztRQVM3RCxlQUEwQjtRQUExQiwrQ0FBMEI7UUFRM0IsZUFBd0Q7UUFBeEQsMEVBQXdELDJCQUFBLG9DQUFBO1FBYWhFLGVBQWdDO1FBQWhDLGtEQUFnQywwSEFBQTs7dUZEakZyQiw2QkFBNkI7Y0FKekMsU0FBUzsyQkFDRSx5QkFBeUI7cVFBTVksS0FBSztrQkFBbkQsU0FBUzttQkFBQyxnQkFBZ0IsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7WUFDOEIsa0JBQWtCO2tCQUE1RixTQUFTO21CQUFDLG9CQUFvQixFQUFFLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7WUFDZCxZQUFZO2tCQUF0RSxTQUFTO21CQUFDLGNBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFmdGVyVmlld0luaXQsIENvbXBvbmVudCwgQ29tcG9uZW50UmVmLCBPbkRlc3Ryb3ksIE9uSW5pdCwgVmlld0NoaWxkLCBWaWV3Q29udGFpbmVyUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZ0Zvcm0gfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcblxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7XG4gIFBvQ29tcG9uZW50SW5qZWN0b3JTZXJ2aWNlLFxuICBQb0xhbmd1YWdlU2VydmljZSxcbiAgUG9Nb2RhbEFjdGlvbixcbiAgUG9Nb2RhbENvbXBvbmVudCxcbiAgcG9Mb2NhbGVEZWZhdWx0XG59IGZyb20gJ0Bwby11aS9uZy1jb21wb25lbnRzJztcblxuaW1wb3J0IHsgaXNFeHRlcm5hbExpbmssIGlzVHlwZW9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbCc7XG5cbmltcG9ydCB7IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5Q29tcG9uZW50IH0gZnJvbSAnLi4vcG8tbW9kYWwtcGFzc3dvcmQtcmVjb3ZlcnkvcG8tbW9kYWwtcGFzc3dvcmQtcmVjb3ZlcnkuY29tcG9uZW50JztcbmltcG9ydCB7IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5VHlwZSB9IGZyb20gJy4uL3BvLW1vZGFsLXBhc3N3b3JkLXJlY292ZXJ5L2VudW1zL3BvLW1vZGFsLXBhc3N3b3JkLXJlY292ZXJ5LXR5cGUuZW51bSc7XG5pbXBvcnQgeyBQb1BhZ2VDaGFuZ2VQYXNzd29yZCB9IGZyb20gJy4vaW50ZXJmYWNlcy9wby1wYWdlLWNoYW5nZS1wYXNzd29yZC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUG9QYWdlQ2hhbmdlUGFzc3dvcmRCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi9wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBwb1BhZ2VDaGFuZ2VQYXNzd29yZExpdGVyYWxzIH0gZnJvbSAnLi9saXRlcmFscy9pMThuL3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWxpdGVyYWxzJztcbmltcG9ydCB7IFBvUGFnZUNoYW5nZVBhc3N3b3JkUmVjb3ZlcnkgfSBmcm9tICcuL2ludGVyZmFjZXMvcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVjb3ZlcnkuaW50ZXJmYWNlJztcbmltcG9ydCB7IFBvUGFnZUNoYW5nZVBhc3N3b3JkUmVxdWlyZW1lbnQgfSBmcm9tICcuL2ludGVyZmFjZXMvcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVxdWlyZW1lbnQuaW50ZXJmYWNlJztcbmltcG9ydCB7IFBvUGFnZUNoYW5nZVBhc3N3b3JkU2VydmljZSB9IGZyb20gJy4vcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQuc2VydmljZSc7XG5cbi8qKlxuICogQGRvY3NFeHRlbmRzIFBvUGFnZUNoYW5nZVBhc3N3b3JkQmFzZUNvbXBvbmVudFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWJhc2ljXCIgdGl0bGU9XCJQTyBQYWdlIENoYW5nZSBQYXNzd29yZCBCYXNpY1wiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtYmFzaWMvc2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWJhc2ljLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWJhc2ljL3NhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1iYXNpYy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1sYWJzXCIgdGl0bGU9XCJQTyBQYWdlIENoYW5nZSBQYXNzd29yZCBMYWJzXCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1sYWJzL3NhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1sYWJzLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWxhYnMvc2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWxhYnMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtbW9kaWZ5XCIgdGl0bGU9XCJQTyBQYWdlIENoYW5nZSBQYXNzd29yZCBNb2RpZnlcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLW1vZGlmeS9zYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtbW9kaWZ5LmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLW1vZGlmeS9zYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtbW9kaWZ5LmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWNyZWF0ZVwiIHRpdGxlPVwiUE8gUGFnZSBDaGFuZ2UgUGFzc3dvcmQgQ3JlYXRlXCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1jcmVhdGUvc2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWNyZWF0ZS5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1jcmVhdGUvc2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWNyZWF0ZS5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1ZXN0XCIgdGl0bGU9XCJQTyBQYWdlIENoYW5nZSBQYXNzd29yZCBSZXF1ZXN0XCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1ZXN0L3NhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1ZXN0LmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVlc3Qvc2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVlc3QuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQnLFxuICB0ZW1wbGF0ZVVybDogJy4vcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIFBvUGFnZUNoYW5nZVBhc3N3b3JkQ29tcG9uZW50XG4gIGV4dGVuZHMgUG9QYWdlQ2hhbmdlUGFzc3dvcmRCYXNlQ29tcG9uZW50XG4gIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95LCBPbkluaXQge1xuICBAVmlld0NoaWxkKFBvTW9kYWxDb21wb25lbnQsIHsgc3RhdGljOiB0cnVlIH0pIG1vZGFsOiBQb01vZGFsQ29tcG9uZW50O1xuICBAVmlld0NoaWxkKCdwYWdlQ2hhbmdlUGFzc3dvcmQnLCB7IHJlYWQ6IFZpZXdDb250YWluZXJSZWYsIHN0YXRpYzogdHJ1ZSB9KSBwYWdlQ2hhbmdlUGFzc3dvcmQ6IFZpZXdDb250YWluZXJSZWY7XG4gIEBWaWV3Q2hpbGQoJ3Bhc3N3b3JkRm9ybScsIHsgcmVhZDogTmdGb3JtLCBzdGF0aWM6IHRydWUgfSkgcGFzc3dvcmRGb3JtOiBOZ0Zvcm07XG5cbiAgbGl0ZXJhbHM6IHtcbiAgICBiYWNrQnV0dG9uOiBzdHJpbmc7XG4gICAgY29uZmlybVBhc3N3b3JkOiBzdHJpbmc7XG4gICAgY3JlYXRlTmV3UGFzc3dvcmQ6IHN0cmluZztcbiAgICBjcmVhdGVOZXdQYXNzd29yZFBocmFzZTogc3RyaW5nO1xuICAgIGN1cnJlbnRQYXNzd29yZDogc3RyaW5nO1xuICAgIGVudGVyU3lzdGVtQnV0dG9uOiBzdHJpbmc7XG4gICAgZm9yZ290UGFzc3dvcmQ6IHN0cmluZztcbiAgICBuZXdQYXNzd29yZDogc3RyaW5nO1xuICAgIHBhc3N3b3JkU3VjY2Vzc2Z1bGx5Q3JlYXRlZDogc3RyaW5nO1xuICAgIHBhc3N3b3JkU3VjY2Vzc2Z1bGx5VXBkYXRlZDogc3RyaW5nO1xuICAgIHJlcXVpcmVtZW50czogc3RyaW5nO1xuICAgIHNhZmV0eVRpcHM6IHN0cmluZztcbiAgICBzYWZldHlUaXBzUGhyYXNlOiBzdHJpbmc7XG4gICAgc2FmZXR5VGlwc0ZpcnN0OiBzdHJpbmc7XG4gICAgc2FmZXR5VGlwc1NlY29uZDogc3RyaW5nO1xuICAgIHNhZmV0eVRpcHNUaGlyZDogc3RyaW5nO1xuICAgIHNhdmVCdXR0b246IHN0cmluZztcbiAgfSA9IHBvUGFnZUNoYW5nZVBhc3N3b3JkTGl0ZXJhbHNbcG9Mb2NhbGVEZWZhdWx0XTtcblxuICBtb2RhbEFjdGlvbjogUG9Nb2RhbEFjdGlvbiA9IHtcbiAgICBhY3Rpb246IHRoaXMubmF2aWdhdGVUby5iaW5kKHRoaXMsIHRoaXMudXJsSG9tZSksXG4gICAgbGFiZWw6IHRoaXMubGl0ZXJhbHMuZW50ZXJTeXN0ZW1CdXR0b25cbiAgfTtcblxuICBwcml2YXRlIG5ld1Bhc3N3b3JkU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gIHByaXZhdGUgY29tcG9uZW50UmVmOiBDb21wb25lbnRSZWY8YW55PiA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGUsXG4gICAgcHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUsXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcbiAgICBwcml2YXRlIHNlcnZpY2U6IFBvUGFnZUNoYW5nZVBhc3N3b3JkU2VydmljZSxcbiAgICBwcml2YXRlIHBvQ29tcG9uZW50SW5qZWN0b3I6IFBvQ29tcG9uZW50SW5qZWN0b3JTZXJ2aWNlLFxuICAgIGxhbmd1YWdlU2VydmljZTogUG9MYW5ndWFnZVNlcnZpY2UsXG4gICAgdmlld1JlZjogVmlld0NvbnRhaW5lclJlZlxuICApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgY29uc3QgbGFuZ3VhZ2UgPSBsYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpO1xuXG4gICAgdGhpcy5saXRlcmFscyA9IHtcbiAgICAgIC4uLnBvUGFnZUNoYW5nZVBhc3N3b3JkTGl0ZXJhbHNbcG9Mb2NhbGVEZWZhdWx0XSxcbiAgICAgIC4uLnBvUGFnZUNoYW5nZVBhc3N3b3JkTGl0ZXJhbHNbbGFuZ3VhZ2VdXG4gICAgfTtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBpZiAodGhpcy51cmxOZXdQYXNzd29yZCkge1xuICAgICAgdGhpcy5zdWJzY3JpYmVUb1Rva2VuUGFyYW1ldGVyKCk7XG4gICAgfVxuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMubmV3UGFzc3dvcmRTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMubmV3UGFzc3dvcmRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmNoZWNraW5nRm9yUm91dGVNZXRhZGF0YSh0aGlzLmFjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGEpO1xuICB9XG5cbiAgbmF2aWdhdGVUbyh1cmw6IHN0cmluZykge1xuICAgIGlzRXh0ZXJuYWxMaW5rKHVybCkgPyB3aW5kb3cub3Blbih1cmwpIDogdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybCB8fCAnLyddKTtcbiAgfVxuXG4gIG9uRm9yZ290UGFzc3dvcmRDbGljayhyZWNvdmVyeSk6IHZvaWQge1xuICAgIGlmIChpc1R5cGVvZihyZWNvdmVyeSwgJ2Z1bmN0aW9uJykpIHtcbiAgICAgIHJlY292ZXJ5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3JlYXRlTW9kYWxQYXNzd29yZFJlY292ZXJ5Q29tcG9uZW50KHJlY292ZXJ5KTtcbiAgICB9XG4gIH1cblxuICBvbkxvZ2luU3VibWl0KCk6IHZvaWQge1xuICAgIGNvbnN0IGZvcm0gPSB0aGlzLmdldExvZ2luRm9ybSgpO1xuXG4gICAgaWYgKHRoaXMudXJsTmV3UGFzc3dvcmQpIHtcbiAgICAgIHRoaXMucG9zdFVybE5ld1Bhc3N3b3JkKGZvcm0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdWJtaXQgJiYgdGhpcy5zdWJtaXQub2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgdGhpcy5lbWl0U3VibWl0KGZvcm0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBYnJlIHVtYSBtb2RhbCBkZSBjb25maXJtYcOnw6NvIGNvbSB0ZXh0bywgaW1hZ2VtIGUgYm90w6NvIHF1ZSByZWRpcmVjaW9uYSBwYXJhIG8gbGluayBkZWZpbmlkbyBuYSBwcm9wcmllZGFkZSBgcC11cmwtaG9tZWBcdTAwMWNcbiAgICovXG4gIG9wZW5Db25maXJtYXRpb24oKSB7XG4gICAgdGhpcy5tb2RhbC5vcGVuKCk7XG4gIH1cblxuICB2YWxpZGF0ZVBhc3N3b3JkKCkge1xuICAgIGNvbnN0IGNvbnRyb2xzID0gdGhpcy5wYXNzd29yZEZvcm0uZm9ybS5jb250cm9scztcbiAgICBjb25zdCBjb250cm9sQ29uZmlybVBhc3N3b3JkID0gY29udHJvbHNbJ2NvbmZpcm1QYXNzd29yZCddO1xuICAgIGNvbnN0IGNvbnRyb2xOZXdQYXNzd29yZCA9IGNvbnRyb2xzWyduZXdQYXNzd29yZCddO1xuXG4gICAgaWYgKCF0aGlzLm5ld1Bhc3N3b3JkKSB7XG4gICAgICB0aGlzLnNldEZvcm1FcnJvcnMoeyAncmVxdWlyZWQnOiB0cnVlIH0sIFtjb250cm9sTmV3UGFzc3dvcmRdKTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgdGhpcy5zZXRGb3JtRXJyb3JzKHsgJ3JlcXVpcmVkJzogdHJ1ZSB9LCBbY29udHJvbENvbmZpcm1QYXNzd29yZF0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5uZXdQYXNzd29yZCAmJiB0aGlzLmNvbmZpcm1QYXNzd29yZCAmJiB0aGlzLm5ld1Bhc3N3b3JkICE9PSB0aGlzLmNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgdGhpcy5zZXRGb3JtRXJyb3JzKHsgJ2VxdWFsUGFzc3dvcmQnOiB0cnVlIH0sIFtjb250cm9sTmV3UGFzc3dvcmQsIGNvbnRyb2xDb25maXJtUGFzc3dvcmRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRGb3JtRXJyb3JzKG51bGwsIFtjb250cm9sQ29uZmlybVBhc3N3b3JkLCBjb250cm9sTmV3UGFzc3dvcmRdKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnJlcXVpcmVtZW50cy5sZW5ndGggJiZcbiAgICAgIHRoaXMucmVxdWlyZW1lbnRzLmZpbmQocmVxdWlyZW1lbnQgPT4gdGhpcy52YWxpZGF0ZVJlcXVpcmVtZW50KHJlcXVpcmVtZW50KSA9PT0gZmFsc2UpXG4gICAgKSB7XG4gICAgICB0aGlzLnNldEZvcm1FcnJvcnMoeyAncmVxdWlyZW1lbnQnOiB0cnVlIH0sIFtjb250cm9sTmV3UGFzc3dvcmRdKTtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZVJlcXVpcmVtZW50KHJlcXVpcmVtZW50OiBQb1BhZ2VDaGFuZ2VQYXNzd29yZFJlcXVpcmVtZW50KSB7XG4gICAgcmV0dXJuIHR5cGVvZiByZXF1aXJlbWVudC5zdGF0dXMgPT09ICdmdW5jdGlvbicgPyByZXF1aXJlbWVudC5zdGF0dXModGhpcy5uZXdQYXNzd29yZCkgOiByZXF1aXJlbWVudC5zdGF0dXM7XG4gIH1cblxuICBwcml2YXRlIGNoZWNraW5nRm9yTWV0YWRhdGFQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja2luZ0ZvclJvdXRlTWV0YWRhdGEoZGF0YSkge1xuICAgIGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggIT09IDApIHtcbiAgICAgIHRoaXMudXJsTmV3UGFzc3dvcmQgPSB0aGlzLmNoZWNraW5nRm9yTWV0YWRhdGFQcm9wZXJ0eShkYXRhLCAnc2VydmljZUFwaScpIHx8IHRoaXMudXJsTmV3UGFzc3dvcmQ7XG4gICAgICB0aGlzLnJlY292ZXJ5ID0gdGhpcy5jaGVja2luZ0Zvck1ldGFkYXRhUHJvcGVydHkoZGF0YSwgJ3JlY292ZXJ5JykgfHwgdGhpcy5yZWNvdmVyeTtcbiAgICAgIHRoaXMuaGlkZUN1cnJlbnRQYXNzd29yZCA9XG4gICAgICAgIHRoaXMuY2hlY2tpbmdGb3JNZXRhZGF0YVByb3BlcnR5KGRhdGEsICdoaWRlQ3VycmVudFBhc3N3b3JkJykgfHwgdGhpcy5oaWRlQ3VycmVudFBhc3N3b3JkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTW9kYWxQYXNzd29yZFJlY292ZXJ5Q29tcG9uZW50KHJlY292ZXJ5OiBQb1BhZ2VDaGFuZ2VQYXNzd29yZFJlY292ZXJ5KSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50UmVmKSB7XG4gICAgICB0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuZGVzdHJveUNvbXBvbmVudEluQXBwbGljYXRpb24odGhpcy5jb21wb25lbnRSZWYpO1xuICAgIH1cblxuICAgIHRoaXMuY29tcG9uZW50UmVmID0gdGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24oUG9Nb2RhbFBhc3N3b3JkUmVjb3ZlcnlDb21wb25lbnQpO1xuICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLnJlY292ZXJ5ID0gcmVjb3ZlcnkudXJsO1xuICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLmNvbnRhY3RFbWFpbCA9IHJlY292ZXJ5LmNvbnRhY3RNYWlsO1xuICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLnBob25lTWFzayA9IHJlY292ZXJ5LnBob25lTWFzaztcbiAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS50eXBlID0gcmVjb3ZlcnkudHlwZSB8fCBQb01vZGFsUGFzc3dvcmRSZWNvdmVyeVR5cGUuRW1haWw7XG4gICAgdGhpcy5jb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2Uub3BlbigpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBlbWl0U3VibWl0KGZvcm06IFBvUGFnZUNoYW5nZVBhc3N3b3JkKSB7XG4gICAgdGhpcy5zdWJtaXQuZW1pdChmb3JtKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TG9naW5Gb3JtKCk6IFBvUGFnZUNoYW5nZVBhc3N3b3JkIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudFBhc3N3b3JkOiB0aGlzLmN1cnJlbnRQYXNzd29yZCxcbiAgICAgIG5ld1Bhc3N3b3JkOiB0aGlzLm5ld1Bhc3N3b3JkXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcG9zdFVybE5ld1Bhc3N3b3JkKGZvcm06IFBvUGFnZUNoYW5nZVBhc3N3b3JkKSB7XG4gICAgZm9ybVsndG9rZW4nXSA9IHRoaXMudG9rZW47XG5cbiAgICB0aGlzLnNlcnZpY2UucG9zdCh0aGlzLnVybE5ld1Bhc3N3b3JkLCBmb3JtKS5zdWJzY3JpYmUocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgIHRoaXMub3BlbkNvbmZpcm1hdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRGb3JtRXJyb3JzKGVycm9yOiBhbnksIGNvbnRyb2xzPzogQXJyYXk8YW55Pikge1xuICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7XG4gICAgICBjb250cm9sLnNldEVycm9ycyhlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHN1YnNjcmliZVRvVG9rZW5QYXJhbWV0ZXIoKSB7XG4gICAgdGhpcy5yb3V0ZS5xdWVyeVBhcmFtcy5zdWJzY3JpYmUocGFyYW1zID0+IHtcbiAgICAgIGNvbnN0IHRva2VuID0gcGFyYW1zWyd0b2tlbiddO1xuXG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtd3JhcHBlclwiICNwYWdlQ2hhbmdlUGFzc3dvcmQ+XG4gIDxkaXYgY2xhc3M9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1jb250YWluZXJcIj5cbiAgICA8cG8tcGFnZS1iYWNrZ3JvdW5kIGNsYXNzPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmRcIiBbcC1sb2dvXT1cImxvZ29cIiBbcC1zZWNvbmRhcnktbG9nb109XCJzZWNvbmRhcnlMb2dvXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicG8tcGFnZS1ibG9ja2VkLXVzZXItaGVhZGVyIHBvLXJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicG8tbWQtMTJcIj57eyBsaXRlcmFscy5jcmVhdGVOZXdQYXNzd29yZCB9fTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicG8tbWQtMTIgcG8tdGV4dC1jZW50ZXIgcG8tZm9udC10ZXh0XCI+XG4gICAgICAgICAge3sgbGl0ZXJhbHMuY3JlYXRlTmV3UGFzc3dvcmRQaHJhc2UgfX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGZvcm0gI3Bhc3N3b3JkRm9ybT1cIm5nRm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicG8tcm93IHBvLW10LTMgcG8tbXQtc20tMVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwby1tZC02XCIgW25nQ2xhc3NdPVwieyAncG8tb2Zmc2V0LW1kLTMgcG8tb2Zmc2V0LWxnLTMgcG8tb2Zmc2V0LXhsLTMnOiAhc2hvd1JlcXVpcmVtZW50cyB9XCI+XG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIWhpZGVDdXJyZW50UGFzc3dvcmRcIj5cbiAgICAgICAgICAgICAgPHBvLXBhc3N3b3JkXG4gICAgICAgICAgICAgICAgbmFtZT1cImN1cnJlbnRQYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJjdXJyZW50UGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIHAtcmVxdWlyZWRcbiAgICAgICAgICAgICAgICBbcC1sYWJlbF09XCJsaXRlcmFscy5jdXJyZW50UGFzc3dvcmRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDwvcG8tcGFzc3dvcmQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCIhaGlkZUN1cnJlbnRQYXNzd29yZCAmJiByZWNvdmVyeVwiIGNsYXNzPVwicG8tdGV4dC1jZW50ZXIgcG8tbWItc20tMSBwby1tYi0yXCI+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJyZWNvdmVyeVVybFR5cGUgPT09ICdpbnRlcm5hbExpbmsnXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInBvLWZvbnQtdGV4dC1ib2xkIHBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWZvcmdvdC1wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwicmVjb3ZlcnlcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3sgbGl0ZXJhbHMuZm9yZ290UGFzc3dvcmQgfX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICpuZ0lmPVwicmVjb3ZlcnlVcmxUeXBlID09PSAnZXh0ZXJuYWxMaW5rJ1wiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwby1mb250LXRleHQtYm9sZCBwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1mb3Jnb3QtcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIFtocmVmXT1cInJlY292ZXJ5XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt7IGxpdGVyYWxzLmZvcmdvdFBhc3N3b3JkIH19XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAqbmdJZj1cIiFyZWNvdmVyeVVybFR5cGVcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwicG8tZm9udC10ZXh0LWJvbGQgcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtZm9yZ290LXBhc3N3b3JkIHBvLWNsaWNrYWJsZVwiXG4gICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uRm9yZ290UGFzc3dvcmRDbGljayhyZWNvdmVyeSlcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3sgbGl0ZXJhbHMuZm9yZ290UGFzc3dvcmQgfX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cG8tcGFzc3dvcmRcbiAgICAgICAgICAgICAgICBuYW1lPVwibmV3UGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIFsobmdNb2RlbCldPVwibmV3UGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIHAtcmVxdWlyZWRcbiAgICAgICAgICAgICAgICBbcC1sYWJlbF09XCJsaXRlcmFscy5uZXdQYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgKHAtY2hhbmdlLW1vZGVsKT1cInZhbGlkYXRlUGFzc3dvcmQoKVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPC9wby1wYXNzd29yZD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHBvLXBhc3N3b3JkXG4gICAgICAgICAgICAgICAgbmFtZT1cImNvbmZpcm1QYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJjb25maXJtUGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIHAtcmVxdWlyZWRcbiAgICAgICAgICAgICAgICBbcC1sYWJlbF09XCJsaXRlcmFscy5jb25maXJtUGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIChwLWNoYW5nZS1tb2RlbCk9XCJ2YWxpZGF0ZVBhc3N3b3JkKClcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDwvcG8tcGFzc3dvcmQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2ICpuZ0lmPVwic2hvd1JlcXVpcmVtZW50c1wiIGNsYXNzPVwicG8tbWQtNiBwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1aXJlZC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxwby1jb250YWluZXI+XG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cInBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVpcmVkLWxpc3RcIj5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1aXJlZC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInBvLW1iLTEgcG8tZm9udC10ZXh0LWJvbGQgcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVxdWlyZWQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAge3sgbGl0ZXJhbHM/LnJlcXVpcmVtZW50cyB9fVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCByZXF1aXJlbWVudCBvZiByZXF1aXJlbWVudHNcIiBjbGFzcz1cInBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVpcmVkLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicG8taWNvbiBwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1aXJlZC1pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVSZXF1aXJlbWVudChyZXF1aXJlbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ3BvLWljb24tb2sgcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVxdWlyZWQtb2snXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdwby1pY29uLW1pbnVzIHBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVpcmVkLW1pbnVzJ1xuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1aXJlZC10ZXh0IHBvLWZvbnQtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICB7eyByZXF1aXJlbWVudC5yZXF1aXJlbWVudCB9fVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L3BvLWNvbnRhaW5lcj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG5cbiAgICAgIDxwby1kaXZpZGVyIGNsYXNzPVwicG8tc20tMTJcIj48L3BvLWRpdmlkZXI+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC10aXBzIHBvLXJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicG8tbWQtMiBwby1tci0zXCI+XG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAgY2xhc3M9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1sb2NrLWltYWdlIHBvLW1iLTNcIlxuICAgICAgICAgICAgYWx0PVwiQmxvY2tlZCB1c2VyIGltYWdlXCJcbiAgICAgICAgICAgIHNyYz1cIi4vYXNzZXRzL2ltYWdlcy9iaWctbG9jay5zdmdcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicG8tbWQtOSBwby1wYWdlLWNoYW5nZS1wYXNzd29yZC10aXBzLXRleHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicG8tZm9udC10ZXh0LWJvbGQgcG8tcGItMVwiPnt7IGxpdGVyYWxzLnNhZmV0eVRpcHMgfX08L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicG8tZm9udC10ZXh0LXNtYWxsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG8tcm93IHBvLXBiLTFcIj57eyBsaXRlcmFscy5zYWZldHlUaXBzUGhyYXNlIH19PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG8tcm93IHBvLXBiLTFcIj7igKIge3sgbGl0ZXJhbHMuc2FmZXR5VGlwc0ZpcnN0IH19PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG8tcm93IHBvLXBiLTFcIj7igKIge3sgbGl0ZXJhbHMuc2FmZXR5VGlwc1NlY29uZCB9fTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvLXJvdyBwby1wYi0xXCI+4oCiIHt7IGxpdGVyYWxzLnNhZmV0eVRpcHNUaGlyZCB9fTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtYnV0dG9ucyBwby1yb3dcIj5cbiAgICAgICAgPHBvLWRpdmlkZXIgY2xhc3M9XCJwby1zbS0xMiBwby1tb2JpbGUtb25seVwiPjwvcG8tZGl2aWRlcj5cblxuICAgICAgICA8cG8tYnV0dG9uXG4gICAgICAgICAgKm5nSWY9XCIhaGlkZUN1cnJlbnRQYXNzd29yZFwiXG4gICAgICAgICAgY2xhc3M9XCJwby1zbS02IHBvLW1iLXNtLTFcIlxuICAgICAgICAgIFtwLWxhYmVsXT1cImxpdGVyYWxzLmJhY2tCdXR0b25cIlxuICAgICAgICAgIChwLWNsaWNrKT1cIm5hdmlnYXRlVG8odXJsQmFjaylcIlxuICAgICAgICA+XG4gICAgICAgIDwvcG8tYnV0dG9uPlxuXG4gICAgICAgIDxwby1idXR0b25cbiAgICAgICAgICBbbmdDbGFzc109XCJoaWRlQ3VycmVudFBhc3N3b3JkID8gJ3BvLW1kLTEyJyA6ICdwby1zbS02J1wiXG4gICAgICAgICAgcC10eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgW3AtZGlzYWJsZWRdPVwicGFzc3dvcmRGb3JtLmludmFsaWRcIlxuICAgICAgICAgIFtwLWxhYmVsXT1cImxpdGVyYWxzLnNhdmVCdXR0b25cIlxuICAgICAgICAgIChwLWNsaWNrKT1cIm9uTG9naW5TdWJtaXQoKVwiXG4gICAgICAgID5cbiAgICAgICAgPC9wby1idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L3BvLXBhZ2UtYmFja2dyb3VuZD5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPHBvLW1vZGFsXG4gIFtwLXByaW1hcnktYWN0aW9uXT1cIm1vZGFsQWN0aW9uXCJcbiAgcC1oaWRlLWNsb3NlXG4gIHAtc2l6ZT1cImF1dG9cIlxuICBbcC10aXRsZV09XCJoaWRlQ3VycmVudFBhc3N3b3JkID8gbGl0ZXJhbHMucGFzc3dvcmRTdWNjZXNzZnVsbHlDcmVhdGVkIDogbGl0ZXJhbHMucGFzc3dvcmRTdWNjZXNzZnVsbHlVcGRhdGVkXCJcbj5cbiAgPGRpdiBjbGFzcz1cInBvLXRleHQtY2VudGVyXCI+XG4gICAgPGltZ1xuICAgICAgYWx0PVwiQmxvY2tlZCB1c2VyIGltYWdlXCJcbiAgICAgIGNsYXNzPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtbG9jay1pbWFnZSBwby1tYi0zXCJcbiAgICAgIHNyYz1cIi4vYXNzZXRzL2ltYWdlcy9zdWNjZXNzLnN2Z1wiXG4gICAgLz5cbiAgPC9kaXY+XG48L3BvLW1vZGFsPlxuIl19